\documentclass[10pt,twocolumn]{article}
\usepackage{geometry}
\geometry{verbose,headsep=3cm,tmargin=2.5cm,bmargin=2.5cm,lmargin=2.0cm,rmargin=2.0cm}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage[font=small]{caption}
\usepackage{amsmath,amssymb,latexsym}
\usepackage{marvosym}
\usepackage{url}
\usepackage{lipsum}
\usepackage{bm}
\usepackage{float}
\usepackage[english]{babel}
\usepackage{hyperref}
\usepackage{epsf}
\usepackage{float}
\usepackage{mathpazo}
\usepackage{pifont}
\usepackage{wrapfig}
\usepackage{multicol}
\usepackage{enumitem}
\usepackage{xcolor}
\usepackage{framed}
\usepackage[utf8]{inputenc}
\graphicspath{{DWGs/}}

% Document font:
\usepackage{charter}

\newcommand{\highlight}[1]{%
  \colorbox{orange!50}{$\displaystyle#1$}}
\definecolor{lgray}{cmyk}{0.2,0.2,0.2,0}
\definecolor{llgray}{cmyk}{0.1,0.1,0.1,0}
\definecolor{dgray}{cmyk}{0.3,0.3,0.3, 0}

\usepackage{color}
\graphicspath{{DWGs/}}
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage{graphicx}
\usepackage{multicol}
\usepackage{enumitem}
\usepackage{xcolor}
\usepackage{framed}
\definecolor{shadecolor}{RGB}{139, 231, 3}
\usepackage{epigraph}
\usepackage{bm}
\usepackage{tcolorbox}
\definecolor{mycolor}{rgb}{0.122, 0.435, 0.698}

\newtcbox{\mb}{nobeforeafter,colframe=mycolor,colback=mycolor!10!white,boxrule=0.5pt,arc=4pt,
  boxsep=0pt,left=6pt,right=6pt,top=3pt,bottom=3pt,tcbox raise base}

\usepackage{eso-pic}
\newcommand\BackgroundPic{%
\put(-50,-0){%
\parbox[b][\paperheight]{\paperwidth}{%
\vfill
\centering
\includegraphics[height=\paperheight,%
keepaspectratio]{DWGs/cover.png}%
\vfill
}}}

\usepackage{anyfontsize}
\usepackage{t1enc}
\newcommand{\heart}{\ensuremath\varheartsuit}
\usepackage{tikz}
\usetikzlibrary{positioning}

\usepackage{xcolor}

\begin{document}

%%% HEADER --------------------------------------------------------------
% ------------------------------------------------------------------------

\twocolumn[{
\begin{@twocolumnfalse}

  \begin{center}
%\textcolor{lgray}
    \vskip-5em

    \hfill
    \fontsize{10}{10}\selectfont {\textit{Krak√≥w, June 2018}}

    \vskip2ex
    
	\vspace{5ex}
	
    \fontsize{24}{10}\selectfont {Proof of the associative law for matrices}
    
      \vspace{1ex}
   \fontsize{10}{10}\selectfont {camillejr.github.io/science-docs}
          
  \noindent%
    
\vskip1ex

{\rule{\textwidth}{0.5pt}}

  \end{center}
  
\vspace{8mm}

\end{@twocolumnfalse}
}]

%%% HEADER END -----------------------------------------------------------
% ------------------------------------------------------------------------



\setlength{\parindent}{0cm}


\setlength{\parskip}{1em}
\renewcommand{\baselinestretch}{1.0}

\section*{Motivation}\label{chap:motivation}

I was reviewing the MIT course 18.06 in Linear Algebra by Professor Gilbert Strang and the associative law for matrices first appeared on the blackboard in more or less this way:

\begin{equation} \label{eq:proof}
(\bm{A} \bm{B}) \bm{C} = \bm{A} (\bm{B} \bm{C}) 
\end{equation}


Professor Strang said then:

\textit{"It's not that easy to prove that this is correct. You have to go into the gory details of matrix multiplication, do it both ways and see that you come out the same."}

So I said: \textit{let's do it!}

\section*{Proof}

Suppose now we have matrices $\bm{A}$ size $(m \times n)$, $\bm{B}$ size $(n \times p)$ and $\bm{C}$ size $(p \times r)$. We are going to prove that the relation from the eq.(\ref{eq:proof}) holds for these matrices.

We start off with the general equation for the $i^{th} j^{th}$ element of the matrix that is a result of multiplication of two matrices $\bm{A}$ and $\bm{B}$, it can be found in a linear algebra textbook to be:

\begin{equation}
\gamma_{ij}^{AB} = \sum_{k=1}^{n} (a_{ik} b_{kj})
\end{equation}

And the general equation for the $i^{th} j^{th}$ element of the matrix that results in multiplication of matrices $\bm{B}$ and $\bm{C}$ first is:

\begin{equation}
\gamma_{ij}^{BC} = \sum_{k=1}^{p} (b_{ik} c_{kj})
\end{equation}

We write the general equation for the $i^{th} j^{th}$ element of the matrix that results in complete multiplication $(\bm{A} \bm{B}) \bm{C}$:

\begin{equation} \label{eq:ab_c}
\gamma_{ij}^{(AB)C} = \sum_{l=1}^{p} \Big( \big( \sum_{k=1}^{n} (a_{ik} b_{kl}) \big) c_{lj} \Big)
\end{equation}

And we write the general equation for the $i^{th} j^{th}$ element of the matrix that results in complete multiplication $\bm{A} (\bm{B} \bm{C})$:

\begin{equation} \label{eq:a_bc}
\gamma_{ij}^{A(BC)} = \sum_{h=1}^{n} \Big(  a_{ih} \big( \sum_{k=1}^{p} (b_{hk} c_{kj}) \big) \Big)
\end{equation}

Now we are going to take eq.(\ref{eq:ab_c}) and eq.(\ref{eq:a_bc}) and write the sums element by element.

We start with eq.(\ref{eq:ab_c}):

\begin{equation} \label{eq:ab_c_1}
\begin{split}
\gamma_{ij}^{(AB)C} = \sum_{l=1}^{p} \Big( \big( \sum_{k=1}^{n} (a_{ik} b_{kl}) \big) c_{lj} \Big) = \\
\sum_{l=1}^{p} \big( a_{i1} b_{1l} c_{lj} + \dots + a_{in} b_{nl} c_{lj} \big) = \\ 
= \highlight{a_{i1} b_{11} c_{1j}} + \dots + a_{in} b_{n1} c_{1j} + \\ 
+ \highlight{a_{i1} b_{12} c_{2j}} + \dots + a_{in} b_{n2} c_{2j} + \\ 
\vdots \\ 
+ \highlight{a_{i1} b_{1p} c_{pj}} + \dots + a_{in} b_{np} c_{pj}
\end{split}
\end{equation}

For eq.(\ref{eq:a_bc}) we have:

\begin{equation} \label{eq:a_bc_1}
\begin{split}
\gamma_{ij}^{A(BC)} = \sum_{h=1}^{n} \Big(  a_{ih} \big( \sum_{k=1}^{p} (b_{hk} c_{kj}) \big) \Big) = \\
 \sum_{h=1}^{n}  \big( a_{ih} b_{h1} c_{1j} + \dots + a_{ih} b_{hp} c_{pj}   \big) = \\
= \highlight{a_{i1} b_{11} c_{1j} + \dots + a_{i1} b_{1p} c_{pj}} + \\ 
+ a_{i2} b_{21} c_{1j} + \dots + a_{i2} b_{2p} c_{pj} + \\ 
\vdots \\ 
+ a_{in} b_{n1} c_{1j} + \dots + a_{in} b_{np} c_{pj}
\end{split}
\end{equation}

In the eq.(\ref{eq:ab_c_1}) we have the final sum written in $p$ "rows" and in each row there is $n$ elements of the sum.

In the eq.(\ref{eq:a_bc_1}) we have the final sum written in $n$ "rows" and in each row there is $p$ elements of the sum.

Notice now, that the sum of all the first elements from each row of eq.(\ref{eq:ab_c_1}) is the same as the sum of all the first's row elements in the eq.(\ref{eq:a_bc_1}) (marked in orange in the equations).

The same holds for the second elements from each row of eq.(\ref{eq:ab_c_1}) with the second's row elements in eq.(\ref{eq:a_bc_1}) and so on.

If we were to write all the elements in an array (that would be size $(p \times n)$ for eq.(\ref{eq:ab_c_1}) and $(n \times p)$ for eq.(\ref{eq:a_bc_1})), it would be equivalent to saying that taking the sum of elements from any column $q$ of the case $(\bm{A} \bm{B}) \bm{C}$ is the same as the sum of elements from row $q$ of the case $\bm{A} (\bm{B} \bm{C})$.

This concludes the proof.\footnote{Especially that I'm running out of letters to index things.}

\begin{thebibliography}{3}

\item \textit{Lec 2 | MIT 18.06 Linear Algebra}, Spring 2005 \verb|https://youtu.be/QVKj3LADCnA|

\end{thebibliography}

\end{document}
